<!DOCTYPE html>
<html lang="en">
<head>
    <title>HTML to Markdown Converter</title>
</head>
<body>

<div id="elementA">
    <h1>这是一个标题</h1>
    <p>这是一个段落，包含<strong>加粗</strong>和<em>斜体</em>文本。</p>
    <!-- 更多的HTML内容 -->
    1. 将`<script src="https://cdnjs.cloudflare.com/ajax/libs/turndown/7.0.0/turndown.js"></script>`添加到 document.body 中;
    2.定义函数 toMd
    function toMd(htmlEle) {
        const turndownService = new TurndownService();
        const markdown = turndownService.turndown(htmlEle.innerHTML);
        console.log(markdown)
    }

    <code>
        const scriptTag = document.createElement('script');
        scriptTag.src = "https://cdnjs.cloudflare.com/ajax/libs/turndown/7.0.0/turndown.js";
        document.body.appendChild(scriptTag);

        // 定义转换函数
        window.toMd = function(htmlEle) {
                // 确保turndown.js已经加载
                if (typeof TurndownService !== 'undefined') {
                    const turndownService = new TurndownService();
                    const markdown = turndownService.turndown(htmlEle.innerHTML);
                    console.log(markdown);
                } else {
                    console.error('TurndownService is not defined. Make sure the turndown.js script is loaded.');
                }
            };</code>
</div>

<button id="convertButton">转换为Markdown</button>
<pre id="markdownOutput"></pre>

<script>
    // 创建一个Turndown服务实例
    var turndownService = new TurndownService();

    // 获取转换按钮和输出区域的DOM元素
    var convertButton = document.getElementById('convertButton');
    var markdownOutput = document.getElementById('markdownOutput');

    // 为转换按钮添加点击事件监听器
    convertButton.addEventListener('click', function() {
        // 获取要转换的元素
        var elementA = document.getElementById('elementA');

        // 将HTML转换为Markdown
        var markdown = turndownService.turndown(elementA.innerHTML);

        // 将转换后的Markdown显示在页面上
        markdownOutput.textContent = markdown;
    });
</script>

</body>
</html>
